# Random Spanning Tree Sampler in C

## Build Instructions
``` bash
mkdir build && cd build
cmake ..
make
```
## Dependencies
- igraph: a C library for creating, manipulating and analysing graphs 
  - [GitHub](https://github.com/igraph/igraph)
  - [Installation Guide](https://igraph.org/c/)
- CMake and other build tools

## Currently Implemented Graphs
- Small graph generated by specifing edges
- Random connnected graph, for a given number of vertices, density target, maximum and minimum degree
- Full graph
- Many other graphs that are included in the igraph library [Graph Generators](https://igraph.org/c/doc/igraph-Generators.html)

## Running Time of The Approximate Counter

### 50 Vertices, Full Graph
Fri Apr 24 11:41:14 2020
Created graph with 50 vertices and 1225 edges
454403 samples taken, with per sample time taking 0.01 ms
Total time spent 6 seconds

FINAL result = 3.0410e+81 with 2541313 effective samples

### 100 Vertices, Full Graph
Fri Apr 24 11:26:45 2020
Created graph with 100 vertices and 4950 edges
1266882 samples taken, with per sample time taking 0.04 ms
Total time spent 53 seconds

FINAL result = 5.8982e+195 with 10333308 effective samples


### 200 Vertices, Full Graph

Fri Apr 24 11:42:09 2020
Created graph with 200 vertices and 19900 edges
3672212 samples taken, with per sample time taking 0.11 ms
Total time spent 414 seconds

FINAL result = inf with 41766822 effective samples

## Examples of Running Time of the Sampler

### 100 Vertices, 0.1 Density, No Maximum Degree Limit
```
Created graph with 100 vertices and 511 edges
...
100000 samples taken, with per sample time taking 36.17 us
Total time spent 3 seconds
```
This compares to the python implementation down from ~1ms per sample to 36us per sample. But still limited to linear performance improvement.

### 1000 Vertices
```
Created graph with 1000 vertices and 49714 edges
...
1000 samples taken, with per sample time taking 1.05 ms
Total time spent 1 seconds
```

### 10000 Vertices
```
Created graph with 10000 vertices and 24974 edges
...
1000 samples taken, with per sample time taking 18.21 ms
Total time spent 18 seconds
```

### Complete Graph, 10000 Vertices
```
Created graph with 10000 vertices and 49995000 edges
...
1000 samples taken, with per sample time taking 919.95 ms
Total time spent 919 seconds

```

MTT matrix method could do this in 90 seconds.

### Ring Graph, 1000 Vertices
```
Created graph with 1000 vertices and 1000 edges
...
1000 samples taken, with per sample time taking 16.95 ms
Total time spent 16 seconds
```

### 3D Lattice Graph, ï½ž30000 Vertices
```
Created graph with 35937 vertices and 107811 edges
...
1000 samples taken, with per sample time taking 29.75 ms
Total time spent 29 seconds
```

Lattice seems to be friendlier to Markov Chains.